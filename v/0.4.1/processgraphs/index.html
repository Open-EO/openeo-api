



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Process Graphs - openEO API 0.4.1</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#process-graphs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="openEO API 0.4.1" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              openEO API 0.4.1
            </span>
            <span class="md-header-nav__topic">
              Process Graphs
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Open-EO/openeo-api/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="openEO API 0.4.1" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    openEO API 0.4.1
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Open-EO/openeo-api/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Prologue
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Prologue
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../codeofconduct/" title="Contributor Code of Conduct" class="md-nav__link">
      Contributor Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gettingstarted-users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gettingstarted-backends/" title="Back-end Providers" class="md-nav__link">
      Back-end Providers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gettingstarted-clients/" title="Client Developers" class="md-nav__link">
      Client Developers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples-poc/" title="Examples (proof of concept)" class="md-nav__link">
      Examples (proof of concept)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../arch/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../usermanagement/" title="User Management and Accounting" class="md-nav__link">
      User Management and Accounting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../udfs/" title="UDFs" class="md-nav__link">
      UDFs
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../collections/" title="Data Discovery" class="md-nav__link">
      Data Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../processes/" title="Processes" class="md-nav__link">
      Processes
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Process Graphs
      </label>
    
    <a href="./" title="Process Graphs" class="md-nav__link md-nav__link--active">
      Process Graphs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#schematic-definition" title="Schematic definition" class="md-nav__link">
    Schematic definition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processes-process-nodes" title="Processes (Process Nodes)" class="md-nav__link">
    Processes (Process Nodes)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" title="Arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" title="Variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remarks-for-back-end-processing" title="Remarks for back-end processing" class="md-nav__link">
    Remarks for back-end processing
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../errors/" title="Error Handling" class="md-nav__link">
      Error Handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cors/" title="CORS" class="md-nav__link">
      CORS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Development guidelines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Development guidelines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guidelines-software/" title="Software Development" class="md-nav__link">
      Software Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guidelines-clients/" title="Client Library Development" class="md-nav__link">
      Client Library Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guidelines-api/" title="API Specification" class="md-nav__link">
      API Specification
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../apireference/" title="Core API Reference" class="md-nav__link">
      Core API Reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../apireference-subscriptions/" title="Subscriptions API Reference" class="md-nav__link">
      Subscriptions API Reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../processreference/" title="Process Reference" class="md-nav__link">
      Process Reference
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#schematic-definition" title="Schematic definition" class="md-nav__link">
    Schematic definition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processes-process-nodes" title="Processes (Process Nodes)" class="md-nav__link">
    Processes (Process Nodes)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments" title="Arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks" title="Callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" title="Variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remarks-for-back-end-processing" title="Remarks for back-end processing" class="md-nav__link">
    Remarks for back-end processing
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Open-EO/openeo-api/edit/master/docs/processgraphs.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="process-graphs">Process graphs<a class="headerlink" href="#process-graphs" title="Permanent link">&para;</a></h1>
<p>A process graph is a chain of specific <a href="../processes/">processes</a>. Similarly to scripts in the context of programming, process graphs organize and automate the execution of one or more processes that could alternatively be executed individually. In a process graph, processes need to be specific, which means that concrete values for input parameters need to be specified. These arguments can again be process graphs (callbacks), scalar values, arrays, objects or variables.</p>
<h2 id="schematic-definition">Schematic definition<a class="headerlink" href="#schematic-definition" title="Permanent link">&para;</a></h2>
<p>A process graph is defined to be a map of connected processes with exactly one node returning the final result:</p>
<div class="codehilite"><pre><span></span>&lt;ProcessGraph&gt; := {
  &lt;ProcessNodeIdentifier&gt;: &lt;ProcessNode&gt;,
  ...
}
</pre></div>

<p><code>&lt;ProcessNodeIdentifier&gt;</code> is a unique key across the process graph that is used to reference (the return value of) this process in arguments of other processes. The identifier is unique only across the current map of processes, so excluding any parent and child process graphs. This means all identifier are strictly scoped and can not be used in child or parent process graphs. Please note that circular references are not allowed.</p>
<h3 id="processes-process-nodes">Processes (Process Nodes)<a class="headerlink" href="#processes-process-nodes" title="Permanent link">&para;</a></h3>
<p>A single node in a process graph (i.e. a specific instance of a process) is defined as follows:</p>
<p><div class="codehilite"><pre><span></span>&lt;ProcessNode&gt; := {
  &quot;process_id&quot;: &lt;string&gt;,
  &quot;description&quot;: &lt;string&gt;,
  &quot;arguments&quot;: &lt;Arguments&gt;,
  &quot;result&quot;: &lt;boolean&gt;
}
</pre></div>
A process node MUST always contain key-value-pairs named <code>process_id</code> and <code>arguments</code> (see the next section). It MAY contain a <code>description</code>.</p>
<p>One of the nodes in a map of processes (the final one) MUST have the <code>result</code> flag set to <code>true</code>, all the other nodes can omit it as the default value is <code>false</code>.  This is important as multiple end nodes are possible, but in most use cases it is important to have exactly one end node, which can be referenced and the return value be used by other processes. Please note each callback also has a result node similar to the "main" process graph.</p>
<p><code>process_id</code> can contain any of the process names defined by a back-end, which are all listed at <code>GET /processes</code>, e.g. <code>load_collection</code> to retrieve data from a specific collection for processing.</p>
<h3 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h3>
<p>A process can in theory have an arbitrary number of arguments. The arguments including its names and values are specified by the process specification.</p>
<p>Arguments are specified as an object and therefore is a simple map with key-value-pairs:</p>
<div class="codehilite"><pre><span></span>&lt;Arguments&gt; := {
  &lt;ParameterName&gt;: &lt;ArgumentValue&gt;
}
</pre></div>

<p>The key <code>&lt;ArgumentValue&gt;</code> is RECOMMENDED to use <a href="https://en.wikipedia.org/wiki/Snake_case">snake case</a> and MUST limit the characters to letters (a-z), numbers and underscores.</p>
<p>A value is defined as follows:</p>
<div class="codehilite"><pre><span></span>&lt;ArgumentValue&gt; := &lt;string|number|boolean|null|array|object|Callback|CallbackParameter|Result|Variable&gt;
</pre></div>

<p><strong>Note</strong>: The specified data types except <code>Callback</code>, <code>CallbackParameter</code>, <code>Result</code> and <code>Variable</code> are the native data types supported by JSON. Limitations apply as objects are not allowed to have keys with the following names:</p>
<ul>
<li><code>variable_id</code>, except for objects of type <code>Variable</code></li>
<li><code>from_argument</code>, except for objects of type <code>CallbackParameter</code></li>
<li><code>from_node</code>, except for objects of type <code>Result</code></li>
</ul>
<p><strong>Important:</strong> Arrays and objects can also contain any of the data types defined above for <code>&lt;ArgumentValue&gt;</code>. So back-ends must <em>fully</em> traverse the process graphs, including all children.</p>
<p><code>&lt;Result&gt;</code> is simply an object with a key <code>from_node</code> with a <code>&lt;ProcessNodeIdentifier&gt;</code> as value, which tells the back-end that the process expects the result (i.e. the return value) from another node to be passed as argument:</p>
<div class="codehilite"><pre><span></span>&lt;Result&gt; := {
  &quot;from_node&quot;: &lt;ProcessNodeIdentifier&gt;
}
</pre></div>

<p>Please note that the <code>&lt;ProcessNodeIdentifier&gt;</code> is strictly scoped and can only referenced from within the same process graph, i.e. can not be referenced in child or parent process graphs.</p>
<p>For <code>Variable</code>, <code>Callback</code> and <code>CallbackParameter</code> see the following sections.</p>
<h3 id="callbacks">Callbacks<a class="headerlink" href="#callbacks" title="Permanent link">&para;</a></h3>
<p>Callbacks are simply specifying a process graph to be evaluated as part of another process. A callback object is a simple object with a single property <code>callback</code> that stores a process graph:</p>
<div class="codehilite"><pre><span></span>&lt;Callback&gt; := {
  &quot;callback&quot;: &lt;ProcessGraph&gt;
}
</pre></div>

<p>For example, you'd like to iterate over an array and want to apply another process <code>abs</code> (absolute value) on each value in the array. You can do so by executing <code>apply</code> in openEO (often also called <code>map</code> in other languages) and pass as callback the process <code>abs</code>, which is wrapped in a process graph.</p>
<p>The values passed from <code>apply</code> to <code>abs</code> are the callback parameters, which you can also "expect", similar to return values of processes (see above). You can use an object of type <code>CallbackParameter</code> with with a key <code>from_argument</code> with the callback parameter name as value:</p>
<div class="codehilite"><pre><span></span>&lt;CallbackParameter&gt; := {
  &quot;from_argument&quot;: &lt;CallbackParameterName&gt;
}
</pre></div>

<p>Please note that the <code>&lt;CallbackParameterName&gt;</code> is also strictly scoped and can not be referenced in child or parent process graphs. </p>
<p>The callback parameter names (<code>&lt;CallbackParameterName&gt;</code>) are defined by the processes. See the <a href="../processes/#callbacks"><code>parameters</code> property</a> in the JSON schema of the parameter.</p>
<h3 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h3>
<p>Process graphs can also hold a variable, which can be filled in later. For shared process graphs this can be useful to make them more portable, e.g in case a back-end specific product name would be stored with the process graph.</p>
<p>Variables are defined as follows:</p>
<div class="codehilite"><pre><span></span>&lt;Variable&gt; := {
  &quot;variable_id&quot;: &lt;string&gt;,
  &quot;description&quot;: &lt;string&gt;,
  &quot;type&quot;: &lt;string&gt;,
  &quot;default&quot;: &lt;string|number|boolean|null|array|object&gt;
}
</pre></div>

<p>The value for <code>type</code> is the expected data type for the content of the variable and MUST be one of <code>string</code> (default), <code>number</code>, <code>boolean</code>, <code>array</code> or <code>object</code>.</p>
<p>The value for <code>variable_id</code> is the name of the variable and can be any valid JSON key, but it is RECOMMENDED to use <a href="https://en.wikipedia.org/wiki/Snake_case">snake case</a> and limit the characters to <code>a-z</code>, <code>0-9</code> and <code>_</code>.</p>
<p>Whenever no value for the variable is defined the <code>default</code> value is used or the process graph is rejected if not default value has been specified.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>Deriving minimum EVI (Enhanced Vegetation Index) measurements over pixel time series of Sentinel 2 imagery. The main process chain in blue, callbacks in yellow:</p>
<p><img alt="Graph with processing instructions" src="../img/pg-example.png" /></p>
<p>The process graph representing the algorithm:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dc&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;load_collection&quot;</span><span class="p">,</span>
    <span class="nt">&quot;process_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Loading the data; The order of the specified bands is important for the following reduce operation.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Sentinel-2&quot;</span><span class="p">,</span>
      <span class="nt">&quot;spatial_extent&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;west&quot;</span><span class="p">:</span> <span class="mf">16.1</span><span class="p">,</span>
        <span class="nt">&quot;east&quot;</span><span class="p">:</span> <span class="mf">16.6</span><span class="p">,</span>
        <span class="nt">&quot;north&quot;</span><span class="p">:</span> <span class="mf">48.6</span><span class="p">,</span>
        <span class="nt">&quot;south&quot;</span><span class="p">:</span> <span class="mf">47.2</span>
      <span class="p">},</span>
      <span class="nt">&quot;temporal_extent&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2018-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-02-01&quot;</span><span class="p">],</span>
      <span class="nt">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B08&quot;</span><span class="p">,</span> <span class="s2">&quot;B04&quot;</span><span class="p">,</span> <span class="s2">&quot;B02&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;evi&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;reduce&quot;</span><span class="p">,</span>
    <span class="nt">&quot;process_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Compute the EVI. Formula: 2.5 * (NIR - RED) / (1 + NIR + 6*RED + -7.5*BLUE)&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;dc&quot;</span><span class="p">},</span>
      <span class="nt">&quot;dimension&quot;</span><span class="p">:</span> <span class="s2">&quot;spectral&quot;</span><span class="p">,</span>
      <span class="nt">&quot;reducer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;callback&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;nir&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;array_element&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_argument&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">},</span>
              <span class="nt">&quot;index&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;red&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;array_element&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_argument&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">},</span>
              <span class="nt">&quot;index&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;blue&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;array_element&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_argument&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">},</span>
              <span class="nt">&quot;index&quot;</span><span class="p">:</span> <span class="mi">2</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;substract&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;nir&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}]</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;p1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;product&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}]</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;p2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;product&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">-7.5</span><span class="p">,</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">}]</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;sum&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;nir&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;p1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;p2&quot;</span><span class="p">}]</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;div&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;divide&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;sub&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span><span class="p">}]</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;p3&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;product&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;div&quot;</span><span class="p">}]</span>
            <span class="p">},</span>
            <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;mintime&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;reduce&quot;</span><span class="p">,</span>
    <span class="nt">&quot;process_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Compute a minimum time composite by reducing the temporal dimension&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;evi&quot;</span><span class="p">},</span>
      <span class="nt">&quot;dimension&quot;</span><span class="p">:</span> <span class="s2">&quot;temporal&quot;</span><span class="p">,</span>
      <span class="nt">&quot;reducer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;callback&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;min&quot;</span><span class="p">,</span>
            <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_argument&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;save&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;process_id&quot;</span><span class="p">:</span> <span class="s2">&quot;save_result&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;from_node&quot;</span><span class="p">:</span> <span class="s2">&quot;mintime&quot;</span><span class="p">},</span>
      <span class="nt">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;GTiff&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2 id="remarks-for-back-end-processing">Remarks for back-end processing<a class="headerlink" href="#remarks-for-back-end-processing" title="Permanent link">&para;</a></h2>
<p>To process the process graph on the back-end you need to go through all nodes/processes in the list and set for each node to which node it passes data and from which it expects data. In another iteration the back-end can find all start nodes for processing by checking for zero dependencies.</p>
<p>You can now start and execute the start nodes (in parallel if possible). Results can be passed to the nodes that were identified beforehand. For each node that depends on multiple inputs you need to check whether all dependencies have already finished and only execute once the last dependency is ready.</p>
<p>Please be aware that the result node (<code>result</code> set to <code>true</code>) is not necessarily the last node that is executed. The author of the process graph may choose to set a non-end node to the result node!</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../processes/" title="Processes" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Processes
              </span>
            </div>
          </a>
        
        
          <a href="../errors/" title="Error Handling" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Error Handling
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>